<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                background-color: rgb(76, 153, 60) !important;
            }
        </style>
        <title>Craps Game</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>

        <style>
        .flex-container {
            height: 40em;
            display: flex;
            flex-direction: row;
            width:100%;
        }
        .flex-container2 {
            height: 15em;
            display: flex;
            flex-direction: row;
            width:100%;
        }
        #sidebar {
            width:10%;
            display: flex;
            height:40em;
        }
        #board {
            width:75%;
        }
        #chip {
                text-align: center;
                
        }
        #chips {
                width: 100%;
                justify-content: center;
                margin:auto;
                display: flex;
                flex-direction: column;
                height: 20em;
                
        }
        .pic {
                display: inline-block;
                width: 100%;
                height: auto;
                margin:auto;
            }
            #num {
                padding:5%;
                padding-top: 1%;
                width:100%;
                border: 2px solid yellow;
                border-radius: 15px;
                background-color: rgb(90, 182, 71);
                text-align: center;
                vertical-align: center;
                font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
                color: yellow;
                margin-bottom: 0%;
            }
            .bar {
                width:100%;
                border: 2px solid white;
                border-radius: 15px;
                background-color: rgb(90, 182, 71);
                font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
                color: white;
              
            }
            body {
                background-color: rgb(90, 182, 71);
            }

        </style>
       
            

                <div class="flex-container2">

                    <div style="width: 20%;">
                    <h3 style="display: inline-block; ">Bankroll :</h3>
                    <div  id="bankroll" style="display: inline-block; width: 10%; height: 100%; font-size: 15pt; ">0</div>
                    </div>

                    <div style="width: 30%; padding-left: 1% ;">

                        <div style="height: 20%;">
                        <h3 style="display: inline-block; vertical-align: top;">Game Status :</h3>
                        <div  id="gameStatus" style="display: inline-block; width: 50%; font-size: 15pt;"></div>
                        </div>

                        <div style="height: 20%; margin-top: 3%">
                        <h3 style="display: inline-block; vertical-align: top;">Current Roll :</h3>
                        <div  id="currentRoll" style="display: inline-block; width: 50%;  font-size: 15pt;"></div>
                        </div>

                        <div style="height: 20%; margin-top: 3%;">
                        <h3 style="display: inline-block; vertical-align: top;">Current Bet :</h3>
                        <div  id="bet" style="display: inline-block; width: 50%; font-size: 15pt;"></div>
                        </div>

                        <div style="height: 20%;">
                            <h3 style="display: inline-block; vertical-align: top;">Change my dice :</h3>
                            <select class="form-select" style="width: 50% !important; display: inline-block !important;">
                                <option value="" selected disabled>Casino</option>
                                <option>El Cortez</option>
                                <option>Sands - Reno</option>
                            </select>
                            </div>

                    </div>
                    
                    <div style="width: 40%; ">
                    <h3 style=" height: 100%; display: inline-block; vertical-align: center;">The Dice Show :</h3>
                    <div style="display: inline-block;"><img style="padding-right: 10px;"id="img1"/><img id="img2"/></div>
                    </div>
                </div>
                

        

            <div class="flex-container">

                <div id="sidebar">
        
                    <div id="chips">
        
                        <div id="five" style="width: 100%; display: inline-block;">
                        <h2 id="chip">5$</h2> 
                        <img class="pic" src="RedChip.gif"/>
                        </div> 
                        
                        <h2 id="chip">10$</h2> 
                        <div style="width: 100%; display: inline-block;">
                            <img id="ten" class="pic" src="greenChip.gif"/>
                        </div>  
                        <h2 id="chip">25$</h2> 
                        <div style="width: 100%; display: inline-block;">
                            <img id="twentyFive" class="pic" src="blueChip.gif"/>
                        </div>  
        
                    </div>   
        
                </div>
        
        
                <div id="board" style="margin-left: 0.2%;">
                    <div style="display: flex; width:100%; height: 30%; ">
                        <div id="num" >4</div>
                        <div id="num" >5</div>
                        <div id="num" >6</div>
                        <div id="num" >8</div>
                        <div id="num" >9</div>
                        <div id="num" >10</div>
                    </div>
        
                    <div style=" border: 2px solid yellow;
                        border-radius: 15px; background-color:rgb(90, 182, 71); height: 30%; text-align: center; color: yellow; vertical-align: center;">
                        <div style=" height: 100%; text-align: center;">
                            <h2 style="width: 100%; text-align: center;">COME</h2>
                        </div>
                    </div>
        
                    <div style="height : 10%" class="bar" id="dontPass">
                        <div style="display: flex;">
                        <h2 style="display: flex; text-align: center; margin:auto;">Dont pass Bar</h2>
                        </div>
                    </div>
        
                    <div style="height : 20%" class="bar" id="pass">
                        <div style="display: flex;">
                        <h2 style="display: flex; text-align: center; margin:auto;">Pass Bar</h2>
                        </div>
                    </div>
        
                    <div class="bar" id="fireBet">
                        <div style="display: flex;">
                        <h2 style="display: flex; text-align: center; margin:auto;">Fire Bet</h2>
                        </div>
                    </div>
        
                </div>
        
        
                
                    <button id="btn" type="button" class="btn btn-primary">Roll the Dice!</button>
                
        
        
            </div>
        
        <hr />


        

        <div id="bet" class="d-flex justify-content-center"></div>

        </div>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
        <script>
          {  

            var chips = [5, 10, 25]

            if (localStorage.getItem("bankroll2") == null) {
                
                localStorage.setItem("bankroll2" , 1000.00);
                localStorage.bankroll2 = 1000.00;
                
            }
            else {
                bankroll = localStorage.getItem('bankroll2')
            }

            if (localStorage.getItem("point") == null) {
                
                localStorage.setItem("point" , 0);
                localStorage.point2 = 0;
                
            }
            else {
                point = localStorage.point2;
            }

            var currentChip = 0;

            $('#bankroll').text(localStorage.getItem('bankroll2'));

            var game = false;
            var bet = 0;
            var rolls = [];
            var point = 0;

            //selecting your chip color
            $('#five').click( function () {
                $('.flex-container').css('cursor' , 'url(redChip.cur),auto' );
                currentChip = chips[0];
            });

            $('#ten').click( function () {
                $('.flex-container').css('cursor' , 'url(greenChip.cur),auto' );
                currentChip = chips[1];
            });
            $('#twentyFive').click( function () {
                $('.flex-container').css('cursor' , 'url(blueChip.cur),auto' );
                currentChip = chips[2];
            });

            //Make a bet on the pass line
            $('#pass').click( function () {
                if (currentChip == 0) {
                    alert('pick a chip');
                }
                else {
                    bet += currentChip;
                    localStorage.bankroll2 -= currentChip;
                    $('#bet').text("The current bet is " + bet);
                    $('#bankroll').text(localStorage.bankroll2);
                }
            });

            
            //Roll the dice function
            $('#btn').click(function () {
                
                if (bet === 0) {
                    alert("Make a bet");
                }
                else if ((game === false) && (rolls.length === 0)) {
                    $('#currentRoll').text("");
                    $('#gameStatus').text("");
                    $('#output').empty();

                    var output = "";
                    game = true;

                    for (var i = 0; i < 2; i ++) {
                        
                        var dice = [];
                        dice[i] = Math.ceil(Math.random() * 6);

                        
                        if (i == 0) {
                        var k = "Dice/ElCortez/" + dice[i] + ".jpg"
                        $("#img1").attr("src" , k);
                        }
                        else {
                        var k = "Dice/ElCortez/" + dice[i] + ".jpg"
                        $("#img2").attr("src" , k); 
                        }

                        output = "Dice " + (i + 1) + " is a " + dice[i];
                        $('#output').append("<li>" + output + "</li>");

                        point += dice[i];
                        
                    }

                    rolls[0] =  point;

                    

                    if ((point === 2) || (point === 3) || (point == 12)) {
                        $('#gameStatus').text('The point is ' + point + "  You rolled craps, game over!");
                        $('#bet').val(0);
                        bet = 0;
                        game = false;
                        rolls = [];
                        point = 0;   
                    }

                    else if (((point === 7) || (point === 11)) && (rolls.length == 1)) {
                        $('#gameStatus').text('The point is ' + point + "  Its a natural, you WIN!");
                        var k = parseInt(localStorage.getItem("bankroll2"));
                        k = k + (bet * 2);
                        localStorage.setItem("bankroll2", k);
                        $('#bankroll').text(localStorage.bankroll2);
                        game = false;
                        rolls = [];
                        bet = 0;
                        point = 0;   
                    } 
                    
                    else {
                        
                        $('#gameStatus').text('The point is ' + rolls[0]);

                    }

                }
                else if ((game == true) && (rolls.length > 0)) {

                    var newRoll = rolls.length;

                    var val = 0;

                    $('#output').empty();

                    for (var i = 0; i < 2; i ++) {
                        var dice = [];
                        dice[i] = Math.ceil(Math.random() * 6);

                        output = "Dice " + (i + 1) + " is a " + dice[i];
                        $('#output').append("<li>" + output + "</li>");

                        if (i == 0) {
                        var k = "Dice/ElCortez/" + dice[i] + ".jpg"
                        $("#img1").attr("src" , k);
                        }
                        else {
                        var k = "Dice/ElCortez/" + dice[i] + ".jpg"
                        $("#img2").attr("src" , k); 
                        }

                        val += dice[i];
                        
                    }

                    rolls[newRoll] = val;
                    

                    $('#gameStatus').text('The point is ' + point);

                    if (rolls[newRoll] === 7) {
                        $('#gameStatus').text('You rolled a 7, Game over!!!');
                        $('#currentRoll').text("");
                        $("#bet").text("0");
                        game = false;
                        bet = 0;
                        rolls = [];
                        point = 0;   
                    }
                    else if (rolls[newRoll] === point) {
                        $('#currentRoll').text("This roll is a " + rolls[newRoll] + " You rolled the point, you WIN!!! ");
                        game = false;
                        var k = parseInt(localStorage.getItem("bankroll2"));
                        k = k + (bet * 2);
                        localStorage.setItem("bankroll2", k);
                        $('#bankroll').text(localStorage.bankroll2);    
                        bet = 0;
                        rolls = [];
                        point = 0;   
                    }
                    else  {

                        $('#currentRoll').text("This roll is a " + rolls[newRoll] + " roll again to win");

                         
                    }


                }

                



                

                
            });
    
        }
        </script>
    
    </body>
</html>